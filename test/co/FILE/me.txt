‡å¼•
Server
Coroutine
Coroutine
Coroutine::set
Coroutine::stats
Coroutine::create
Coroutine::exist
Coroutine::getCid
Coroutine::getPcid
Coroutine::getContext
Coroutine::defer
Coroutine::list
Coroutine::getBackTrace
Coroutine::yield
Coroutine::resume
Coroutine::fread
Coroutine::fgets
Coroutine::fwrite
Coroutine::sleep
Coroutine::gethostbyname
Coroutine::getaddrinfo
Coroutine::exec
Coroutine::readFile
Coroutine::writeFile
Coroutine::statvfs
Coroutine\Channel
Coroutine\Client
Coroutine\Http\Client
Coroutine\Http2\Client
Coroutine\Redis
Coroutine\Socket
Coroutine\MySQL
Coroutine\PostgreSQL
Server
å¹¶å‘è°ƒç”¨
å®ç°åŸç†
å¸¸è§é—®é¢˜
ç¼–ç¨‹é¡»çŸ¥
æ‰©å±•ç»„ä»¶
ç¼–ç¨‹è°ƒè¯•
Runtime
Timer
Memory
Http\Server
WebSocket\Server
Redis\Server
Process
Process\Pool
Client
Event
å¼‚æ­¥å›è°ƒ
é«˜çº§
å…¶ä»–

Coroutine::fread
åç¨‹æ–¹å¼è¯»å–æ–‡ä»¶ã€‚

function Coroutine::fread(resource $handle, int $length = 0);
éœ€è¦2.0.11æˆ–æ›´é«˜ç‰ˆæœ¬

å‚æ•°
$handleæ–‡ä»¶å¥æŸ„ï¼Œå¿…é¡»æ˜¯fopenæ‰“å¼€çš„æ–‡ä»¶ç±»å‹streamèµ„æº
$lengthè¯»å–çš„é•¿åº¦ï¼Œé»˜è®¤ä¸º0ï¼Œè¡¨ç¤ºè¯»å–æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹
è¿”å›å€¼
è¯»å–æˆåŠŸè¿”å›å­—ç¬¦ä¸²å†…å®¹ï¼Œè¯»å–å¤±è´¥è¿”å›false

ç‰ˆæœ¬å·®å¼‚
4.0.4ä»¥ä¸‹ç‰ˆæœ¬freadæ–¹æ³•ä¸æ”¯æŒéæ–‡ä»¶ç±»å‹çš„streamï¼Œå¦‚STDINã€Socketï¼Œè¯·å‹¿ä½¿ç”¨freadæ“ä½œæ­¤ç±»èµ„æºã€‚

4.0.4ä»¥ä¸Šç‰ˆæœ¬freadæ–¹æ³•æ”¯æŒäº†éæ–‡ä»¶ç±»å‹çš„streamèµ„æºï¼Œåº•å±‚ä¼šè‡ªåŠ¨æ ¹æ®streamç±»å‹é€‰æ‹©ä½¿ç”¨AIOçº¿ç¨‹æ± æˆ–EventLoopå®ç°ã€‚

ç¤ºä¾‹
use Swoole\Coroutine as co;
$fp = fopen(__DIR__ . "/defer_client.php", "r");
co::create(function () use ($fp)
{
    fseek($fp, 256);
    $r =  co::fread($fp);
    var_dump($r);
});
å‚æ•°
è¿”å›å€¼
ç‰ˆæœ¬å·®å¼‚
ç¤ºä¾‹
æœ€æ–°æœ€æ—©æœ€çƒ­
4781æ¬¡é˜…è¯» 0æ¡è¯„è®º

[ç™»å½•åå‘è¡¨è¯„è®º]

Â© Swoole.com 2008 - 2019 å¤‡æ¡ˆå·ï¼šäº¬ICPå¤‡14049466å·-7 | ç‰ˆæƒå£°æ˜ å®˜æ–¹QQç¾¤ï¼š399424487 å¼€å‘ç»„é‚®ä»¶åˆ—è¡¨ï¼š team@swoole.com å½“å‰Swooleæ‰©å±•ç‰ˆæœ¬ï¼šswoole-4.2.5